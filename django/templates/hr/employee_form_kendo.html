{% extends "layout.html" %}
 
{% block content %}
	<div id="example">
		<div class="demo-section k-content">           
		<p class="title">DELTAS PHARMA<br>
			Shreeji Arcade, Opp: Nitin Co, Dr. Almeda Road, Office No. 1 to 5, 2nd Floor <br>
			THANE (W) MUMBAI -INDIA , PHONE NO: 022-25390144, 25401646, FAX-25389696<br>
		</p><hr/><p class="title">Employee Information Form</p> 
			<div class="center">
				<form id="employeeForm" action="{% url "employee_new" %}" method="post" data-role="validator" novalidate="novalidate">
					{% csrf_token %}
					<div class="formmain">
						<div class="left">
							<ul id="fieldlist">
								<li>
									<label for="id_empName">Name:</label>
									<input type="text" class="k-textbox" name="empName" id="id_empName" required="required"  />
								</li> 
								<li>
									<label for="id_login">Login:</label>
									<input type="text" class="k-textbox" name="login" id="id_login" required="required" />
								</li>  
								<li>
									<label for="id_emailId">EmailId:</label>
									<input type="email" id="id_emailId" name="emailId" class="k-textbox" required data-email-msg="Email format is not valid"  />
								</li>
								<li>
									<label for="id_grp">Role</label>
									<input id="grpList" name="grp" />
								</li>
								<li>
									<label for="id_mobile" class="required">Mobile</label>
									<input type="tel" id="id_mobile" name="mobile" class="k-textbox" pattern="\d{10}" placeholder="Enter a ten digit number" required
									validationMessage="Enter at least ten digits"  />
								</li>
								<li>
									<label for="id_hq">HQ:</label>
									<input id="hqList" name="hq" />
								</li>
								<li>
									<label for="id_salary">Salary:</label>
									<input type="text" class="k-textbox" name="salary" id="id_salary" />
								</li>
								<li>
									<label for="id_da">DA:</label>
									<input type="text" class="k-textbox" name="da" id="id_da" />
								</li> 
								<li>
									<label for="id_ta">TA:</label>
									<input type="text" class="k-textbox" name="ta" id="id_ta" />
								</li>
								<li>
									<label for="id_accno">Account No.:</label>
									<input type="text" class="k-textbox" name="accountNumber" id="id_accno" required="required"/>
								</li>
								<li>
									<label for="id_bankname">Bank Name:</label>
									<input type="text" class="k-textbox" name="bankName" id="id_bankname" required="required"/>
								<li>
							</ul>
							<button id="back" class="k-primary leftbutton">Back</button>
						</div>
						<div class="right">
							<ul id="fieldlist">
								<li>
									<label for="id_street1">Street1:</label>
									<input type="text" class="k-textbox" name="street1" id="id_street1" />
								</li>  
								<li>
									<label for="id_street">Street2:</label>
									<input type="text" class="k-textbox" name="street2" id="id_street2" />
								</li> 
								<li>
									<label for="id_city">City:</label>
									<input type="text" class="k-textbox" name="city" id="id_city" />
								</li>
								<li>
									<label for="id_state">State:</label>
									<input name="state" id="stateList" />
								</li>
								<li>
									<label for="id_country">Country:</label>
									<input id="countryList" name="country" required="required" />
								</li>
								<li>
									<label for="id_zipCode">Zip:</label>
									<input type="text" class="k-textbox" name="zipCode" id="id_zipCode" />
								</li>
								<li>
									<label for="id_manager">Manager:</label>
									<input id="mgrList" name="manager" />
								</li>
								<li>
									<label for="id_doj">Date Of Joining:</label>
									<input type="text" data-role='datepicker' id="id_doj" name="joiningDate" data-type="date" required="required"  />
									<span data-for='id_doj' class='k-invalid-msg'></span>
								</li> 
								<li>
									<label for="id_eop">End Of Probation:</label>
									<input type="text" data-role='datepicker' id ="id_eop" data-type="date" name="probationDate" data-greaterdate-field="id_doj" data-greaterdate-msg='Probation date should be greater than joining date' required="required" />
									<span data-for='id_eop' class='k-invalid-msg'></span>
								</li> 
								<li>
									<label for="id_dob">Date Of Birth:</label>
									<input type="text" data-role='datepicker' id="id_dob" name="dob" data-type="date" required="required"  />
									<span data-for='id_dob' class='k-invalid-msg'></span>
								</li> 
								<li>
									<label for="id_ifsc">IFSC Code:</label>
									<input type="text" class="k-textbox" name="ifscCode" id="id_ifsc" required="required"/>
								</li>
							</ul>

							<button id="submit" class="k-primary rightbutton">Submit</button>
						</div>
                             

					</div>
                </form>
			</div>
		</div>                      

            
   
            <style>
		.center {
    			margin: auto;
    			width: 60%;
    			border: 3px solid #d3d3d3;
    			padding: 10px;
			background-color: #fdfdfd;
		}	 

		.formmain {
			margin: auto;
			width: 100%;
			padding: 2px;
			height: 850px;
		}
		.right {
    			float: right;
    			padding: 10px;
			width: 45%;
		}
		.left {

    			float: left;
    			padding: 10px;
			width: 45%;
		}
		.rightbutton {
    			    padding: 10px;
    			    width: 53%;
                }
		.leftbutton {
			    padding: 10px;
        		    width: 53%;
                }

		.title {
                    font-size: 14px;
    		    font-weight: bold;
    		    color: #67462e;
    		    background-color: #fbb24a;
                    padding: 6px 30px;
		    text-align: center;
                    margin: 0;
               }
                #fieldlist {
                    margin: 0;
                    padding: 0;
                }

                #fieldlist li {
                    list-style: none;
                    padding-bottom: .7em;
                    text-align: left;
                }

                #fieldlist label {
                    display: block;
                    padding-bottom: .3em;
                    font-weight: bold;
                    text-transform: uppercase;
                    font-size: 12px;
                    color: #444;
                }

                #fieldlist li .k-widget:not(.k-tooltip),
                #fieldlist li .k-textbox {
                    margin: 0 5px 5px 0;
                }

                span.k-widget.k-tooltip-validation {
                    text-align: left;
                    border: 0;
                    padding: 0;
                    margin: 0;
                    background: none;
                    box-shadow: none;
                    color: red;
                }
                
                .k-tooltip-validation .k-warning {
                    display: none;
                }
            </style>
	</div>

{% endblock %}
 
{% block scripts %}
<script type="text/javascript">
	$(document).ready(function() {
		
		$("#grpList").kendoDropDownList({
                dataTextField: "name",
                dataValueField: "id",
                dataSource: {
                            transport: {
                                read: {
                                    dataType: "json",
                                    url: "/hr/grp-list",
                                }
                            }
                        },
                
                }); 
		
	
		$("#stateList").kendoDropDownList({
                dataTextField: "name",
                dataValueField: "id",
                dataSource: {
                            transport: {
                                read: {
                                    dataType: "json",
                                    url: "/hr/state-list",
                                }
                            }
                        },
                
                }); 		

	$("#countryList").kendoDropDownList({
                dataTextField: "name",
                dataValueField: "id",
                dataSource: {
                            transport: {
                                read: {
                                    dataType: "json",
                                    url: "/hr/country-list",
                                }
                            }
                        },
                
                });

	$("#hqList").kendoDropDownList({
                dataTextField: "name",
                dataValueField: "id",
                dataSource: {
                            transport: {
                                read: {
                                    dataType: "json",
                                    url: "/hr/hq-list",
                                }
                            }
                        },
                
                });		
		
        $("#mgrList").kendoDropDownList({
                dataTextField: "name",
                dataValueField: "id",
                dataSource: {
                            transport: {
                                read: {
                                    dataType: "json",
                                    url: "/hr/emp-list",
                                }
                            }
                        },
                
                }); 

	function backClick(e) {
		 	window.location="/hr/employee";
		}
	$("#back").kendoButton({
                        click: backClick
                    });
		
	function submitClick(e) {
                        window.location="/hr/employee_new";
                }
        $("#submit").kendoButton({
                        click: submitClick
                    });

  });

 $(function () {
		var container = $("#employeeForm");
		kendo.init(container);
		container.kendoValidator({
			rules: {
				greaterdate: function (input) {
					if (input.is("[data-greaterdate-msg]") && input.val() != "") {                                    
						var date = kendo.parseDate(input.val()),
							otherDate = kendo.parseDate($("[name='" + input.data("greaterdateField") + "']").val());
						return otherDate == null || otherDate.getTime() < date.getTime();
					}

					return true;
				}
			}
		});
	});


</script>    
{% endblock %}
